<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="author" content="A. Speyer">
    <title>Pionierregionen in Brasilien</title>
    <link rel="stylesheet" href="brazil.css" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <script src="panoramio.js"></script>

</head>

<body>
    <h1 align="center ">Pionierregionen in Brasilien</h1>
    <h2 align="center ">Agroforstwirtschaftssysteme und alternative Wertschöpfungsketten<br></br> als Entwicklungsperspektive für Kleinbauern in Amazonien?</h2>
    <h3 align="center ">Das Beispiel des RECA-Projektes</h3>
    <p id="intro "> Im Rahmen der Vertiefungsrichtung Entwicklungsforschung beschäftigt sich eine Gruppe Studierender mit den Pionierregionen in Brasiliens Westen. Die Lehrveranstaltung findet im SoSe 2016 und dem WiSe 2016/17 statt. Dazu zählt auch eine Feldforschung in Brasilien, die sich über ca. 2 1/2 Wochen erstreckt. Die Leitung der Lehrveranstaltung und Exkursion übernehmen Prof. Martin Coy und Mag. Gerhard Rainer. Die Route der Rundreise erstreckt sich über folgenden Destinationen:
        <ul>
            <li>Brasília</li>
            <li>Ji-Paraná</li>
            <li>Porto Velho</li>
            <li>Nova California</li>
            <li>Rio Branco</li>
            <li>Brasília</li>
        </ul>
    </p>

    <div id="map"></div>
    <script>
        var map = L.map('map').setView([-15.5, -56.100], 5); /*Cuiabá*/

        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap contributors</a>'
        }).addTo(map);

        /*Destination: Marker setzen*/
        var marker1 = L.marker([-15.8, -47.85]).addTo(map);
        marker1.bindPopup('<h1>Brasília</h1><p><h3>Infotext</h3></p>').openPopup(); /*openPopup lässt das Popup offen*/
        var marker2 = L.marker([-10.951944, -61.951667]).openPopup();
        marker2.bindPopup('<h1>Ji-Paraná</h1><p><h3>Infotext</h3></p>')
        var marker3 = L.marker([-8.758611, -63.881944]).addTo(map);
        marker3.bindPopup('<h1>Porto Velho</h1><p><h3>Infotext</h3></p>')
        var marker4 = L.marker([-9.2452, -64.852]).addTo(map);
        marker4.bindPopup('<h1>Nova California</h1><p><h3>Infotext</h3></p>')
        var marker5 = L.marker([-9.971111, -67.811111]).addTo(map);
        marker5.bindPopup('<h1>Rio Branco</h1><p><h3>Infotext</h3></p>')

        var markergroup = new L.featureGroup([marker1, marker2, marker3, marker4, marker5]);
        map.fitBounds(markergroup.getBounds());

        /*Ziehen von Polylines zwischen Destinationen*/
        var linie = L.polyline([
            [-15.8, -47.85],
            [-10.951944, -61.951667],
        ], {
            color: '#004d00',
            weight: 4
        }).addTo(map);


        var linie = L.polyline([
            [-10.951944, -61.951667],
            [-8.758611, -63.881944]
        ], {
            color: '#008000',
            weight: 4
        }).addTo(map);

        var linie = L.polyline([
            [-8.758611, -63.881944],
            [-9.2452, -64.852]
        ], {
            color: '#00b300',
            weight: 4
        }).addTo(map);

        var linie = L.polyline([
            [-9.2452, -64.852],
            [-9.971111, -67.811111]
        ], {
            color: '#00e600',
            weight: 4
        }).addTo(map);;

        var linie = L.polyline([
            [-9.971111, -67.811111],
            [-15.8, -47.85]
        ], {
            color: '#1aff1a',
            weight: 4
        }).addTo(map);
        map.fitBounds(linie.getBounds());

        /*Radius um die Hauptstadt Brasília*/
        var circle = L.circle([-15.8, -47.85], 90000, {
            color: '#cc5200',
            /*dark orange*/
            fillColor: '#cc5200',
            fillOpacity: 0.5
        }).addTo(map);

        /*Testversuch: setzen eines Polygons*/
        var polygon = L.polygon([
            [-9.2452, -64.852],
            [-9.9, -65],
            [-10, -65.5]
        ]).addTo(map);

        L.control.scale({
            'imperial': true
        }).addTo(map);

        /*Panoramio einbetten*/
        var bounds = markergroup.getBounds();
        var panoramio = "http://www.panoramio.com/map/get_panoramas.php?set=public&from=0&to=20" +
            '&minx=' + bounds.getWest() +
            '&miny=' + bounds.getSouth() +
            '&maxx=' + bounds.getEast() +
            '&maxy=' + bounds.getNorth() +
            '&size=mini_square&mapfilter=true&callback=zeigBilder';
        var script = document.createElement("script");
        script.src = panoramio;
        document.getElementsByTagName('head')[0].appendChild(script);
        window.zeigBilder = function(data) {
            for (var i = 0; i < data.photos.length; i++) {
                // console.log("Photo Titel: ", i, data.photos[i].photo_title);
                var x = L.marker(
                    [data.photos[i].latitude, data.photos[i].longitude], {
                        icon: L.icon({
                            iconUrl: data.photos[i].photo_file_url
                        })
                    }
                ).bindPopup("<h2>" + data.photos[i].photo_title + "</h2>" +
                    "<a href=' " + data.photos[i].photo_url + "'>Link zum Bild</a>"
                ).addTo(map);
                // console.log(data.photos[i].photo_file_url)
            }
        }
    </script>


</body>

</html>